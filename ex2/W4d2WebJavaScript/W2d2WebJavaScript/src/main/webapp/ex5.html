<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
   <tr>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
      <tr>
        <td>Mary</td>
        <td>Moe</td>
        <td>mary@example.com</td>
      </tr>
      <tr>
        <td>July</td>
        <td>Dooley</td>
        <td>july@example.com</td>
      </tr>
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <style>
            .addPadding{


                padding: 10px 200px;

            }
        </style>

    </head>
    <body class="addPadding">
        <div>Ex5</div>
        <div id="tableDiv"></div>

        <div >  
            <input type="text" id="inputf" ><button id="btn">Filter by price</button>
        </div>








        <script>
            var cars = [
                {id: 1, year: 1997, make: "Ford", model: "E350", price: 4300},
                {id: 2, year: 1995, make: "Audi", model: "A3", price: 3200},
                {id: 3, year: 1994, make: "Audi", model: "TT", price: 200},
                {id: 4, year: 1934, make: "VW", model: "Golf VI", price: 3020},
                {id: 5, year: 1989, make: "Vw", model: "Golf III", price: 99999}
            ];




            function listToTable(alist) {
                var result = alist.map(function (item) {
                    return "<tr> <td>" + item.id + "</td><td>" + item.year + "</td><td>" + item.make + "</td><td>" + item.model + "</td><td>" + item.price + "</td></tr>";
                });
                var pre = "<table class=\"table\"><thead><tr><th>ID</th><th>Year</th><th>Make</th><th>Model</th><th>Price</th></tr></thead><tbody>";
                var post = "</tbody></table>";
                return pre + result.join() + post;
            }



            sortPrice = function (listt, maxp) {
                var result = listt.filter(function (item) {

                    return item.price <= maxp;
                });

                return result;
            };

            document.getElementById("tableDiv").innerHTML = listToTable(cars);
            var btn = document.getElementById("btn");

            btn.addEventListener("click", function (evt) {

                var input = document.getElementById("inputf").value;
                if (isNaN(input)) {
                    alert("Invalid input! type a number!");

                } else {

                    document.getElementById("tableDiv").innerHTML = listToTable(sortPrice(cars, parseInt(input)));

                }

            });

        </script>

    </body>
</html>
